<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reservation | Lumare Luxury Resort</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;500&family=Noto+Sans+KR:wght@100;300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    
    <style>
        :root {
            --gold: #cbb89e;
            --gold-light: #e6ded3;
            --dark: #1e2a35;
            --text: #333;
            --bg-sub: #fdfaf7;
            --transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        /* Reset */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Noto Sans KR', sans-serif; color: var(--text); background: #fff; line-height: 1.7; overflow-x: hidden; }
        .inner { max-width: 1400px; margin: 0 auto; padding: 0 4%; }
        #main-header { width: 100%; height: 90px; background: #fff; border-bottom: 1px solid #f0f0f0; position: fixed; top: 0; z-index: 1000; }
        #main-header .inner { display: flex; justify-content: space-between; align-items: center; height: 100%; }
        /* Header (Placeholder) */
        header { width: 100%; height: 90px; background: #fff; display: flex; align-items: center; border-bottom: 1px solid #f0f0f0; position: fixed; top: 0; z-index: 100; }
        
        /* Sub Visual */
        .sub-visual { 
            height: 45vh; min-height: 400px;
            background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?q=80&w=2070&auto=format&fit=crop') no-repeat center/cover;
            display: flex; flex-direction: column; justify-content: center; align-items: center; color: #fff; margin-top: 90px;
        }
        .sub-visual h2 { font-family: 'Cormorant Garamond', serif; font-size: 64px; font-weight: 300; letter-spacing: 12px; margin-bottom: 10px; }
        .sub-visual p { font-size: 15px; font-weight: 200; letter-spacing: 4px; text-transform: uppercase; opacity: 0.9; }

        /* Layout */
        .reservation-wrapper { padding: 100px 0; }
        #resForm { display: grid; grid-template-columns: 1fr 400px; gap: 80px; align-items: flex-start; }

        /* Section Title */
        .section-header { margin-bottom: 40px; position: relative; }
        .section-header span { color: var(--gold); font-size: 12px; font-weight: 500; letter-spacing: 3px; text-transform: uppercase; }
        .section-header h3 { font-family: 'Cormorant Garamond', serif; font-size: 32px; color: var(--dark); font-weight: 500; margin-top: 5px; }

        /* Inputs */
        .input-box { display: grid; grid-template-columns: 2fr 1fr; gap: 20px; margin-bottom: 60px; }
        .field { display: flex; flex-direction: column; }
        .field label { font-size: 11px; text-transform: uppercase; color: #888; letter-spacing: 1.5px; margin-bottom: 10px; font-weight: 600; }
        .field input, .field select { 
            padding: 18px 25px; border: 1px solid #e0e0e0; border-radius: 0; background: #fff; font-size: 15px; 
            transition: var(--transition); outline: none;
        }
        .field input:focus { border-color: var(--gold); box-shadow: 0 10px 20px rgba(203, 184, 158, 0.1); }

        /* Room Selection */
        .room-grid { display: grid; gap: 30px; }
        .room-item { cursor: pointer; position: relative; }
        .room-item input { display: none; }
        .room-card { 
            display: flex; background: #fff; border: 1px solid #eee; border-radius: 4px; overflow: hidden; 
            transition: var(--transition); position: relative;
        }
        .room-item:hover .room-card { transform: translateY(-5px); box-shadow: 0 20px 40px rgba(0,0,0,0.05); }
        .room-item input:checked + .room-card { border-color: var(--gold); background: var(--bg-sub); }
        
        .room-card .img-w { width: 380px; height: 240px; overflow: hidden; position: relative; }
        .room-card .img-w img { width: 100%; height: 100%; object-fit: cover; transition: transform 1.2s; }
        .room-item:hover .img-w img { transform: scale(1.1); }

        .room-card .info-w { padding: 40px; flex: 1; display: flex; flex-direction: column; justify-content: center; }
        .room-card .info-w h4 { font-family: 'Cormorant Garamond', serif; font-size: 26px; color: var(--dark); margin-bottom: 15px; }
        .room-card .info-w p { font-size: 14px; color: #777; margin-bottom: 25px; line-height: 1.8; }
        .room-card .info-w .price { font-size: 20px; color: var(--gold); font-weight: 500; }

        /* Summary Sidebar */
        .res-sidebar { position: sticky; top: 130px; }
        .summary-card { 
            background: var(--dark); padding: 50px 40px; border-radius: 2px; color: #fff;
            box-shadow: 0 30px 60px rgba(30, 42, 53, 0.2); position: relative; overflow: hidden;
        }
        .summary-card::before { content: ""; position: absolute; top: 0; left: 0; width: 4px; height: 100%; background: var(--gold); }
        
        .summary-card h4 { font-family: 'Cormorant Garamond', serif; font-size: 24px; letter-spacing: 2px; text-align: center; margin-bottom: 40px; color: var(--gold-light); }
        .sum-list { margin-bottom: 40px; }
        .sum-list li { display: flex; justify-content: space-between; padding: 20px 0; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .sum-list li span { font-size: 12px; color: #888; text-transform: uppercase; letter-spacing: 1px; }
        .sum-list li strong { font-size: 14px; font-weight: 300; }

        .total-w { text-align: center; padding-top: 30px; border-top: 1px dotted rgba(255,255,255,0.2); }
        .total-w span { font-size: 11px; text-transform: uppercase; letter-spacing: 2px; color: #888; margin-bottom: 10px; display: block; }
        .total-w strong { font-family: 'Cormorant Garamond', serif; font-size: 42px; color: var(--gold); font-weight: 300; }

        .btn-reserve { 
            width: 100%; height: 70px; background: var(--gold); color: #fff; border: none; margin-top: 40px;
            font-size: 14px; font-weight: 500; letter-spacing: 4px; cursor: pointer; transition: var(--transition);
        }
        .btn-reserve:hover { background: #bba78d; letter-spacing: 6px; }

        /* Responsive */
        @media (max-width: 1200px) {
            #resForm { grid-template-columns: 1fr; gap: 60px; }
            .res-sidebar { position: static; width: 100%; }
        }
        @media (max-width: 768px) {
            .sub-visual h2 { font-size: 40px; }
            .input-box { grid-template-columns: 1fr; }
            .room-card { flex-direction: column; }
            .room-card .img-w { width: 100%; height: 200px; }
            .room-card .info-w { padding: 30px; }
        }

        /* Flatpickr Custom */
        .flatpickr-calendar { border-radius: 0 !important; box-shadow: 0 20px 50px rgba(0,0,0,0.1) !important; border: none !important; padding: 15px; }
        .flatpickr-day.selected { background: var(--gold) !important; border-color: var(--gold) !important; border-radius: 0; }
        .flatpickr-day.inRange { background: rgba(203, 184, 158, 0.1) !important; box-shadow: none !important; }
    </style>
</head>
<body>
    <header id="main-header">
        <div class="inner">
            <div id="logo">
                <h1><img src="./img/logo.svg" alt="#"></h1>
            </div>
            <nav id="gnb">
                <ul>
                    <li><a href="reservation.html">RESERVATION</a></li>
                    <li class="active"><a href="promotion.html">PROMOTION</a></li>
                    <li><a href="#">FACILITIES</a></li>
                    <li><a href="#"><img src="./img/menu_22dp_F3EFE7_FILL0_wght400_GRAD0_opsz24.svg" alt="Menu" style="width: 20px;"></a></li>
                </ul>
            </nav>
        </div>
    </header>
<header>
    <div class="inner">
        <h1 style="font-family: 'Cormorant Garamond', serif; font-size: 32px; letter-spacing: 5px;">LUMARE</h1>
    </div>
</header>

<main id="reservation-page">
    <section class="sub-visual">
        <h2>RESERVATION</h2>
        <p>A Journey to Serenity</p>
    </section>

    <div class="reservation-wrapper inner">
        <form id="resForm">
            <div class="selection-area">
                
                <section class="res-section">
                    <div class="section-header">
                        <span>Step 01</span>
                        <h3>Dates & Guests</h3>
                    </div>
                    <div class="input-box">
                        <div class="field">
                            <label>Period of Stay</label>
                            <input type="text" id="dateRange" placeholder="Select check-in and check-out dates" readonly>
                        </div>
                        <div class="field">
                            <label>Occupancy</label>
                            <select id="guests">
                                <option value="1">1 Person</option>
                                <option value="2" selected>2 Persons</option>
                                <option value="3">3 Persons</option>
                                <option value="4">4 Persons</option>
                            </select>
                        </div>
                    </div>
                </section>

                <section class="res-section">
                    <div class="section-header">
                        <span>Step 02</span>
                        <h3>Choose Your Sanctuary</h3>
                    </div>
                    <div class="room-grid">
                        <label class="room-item">
                            <input type="radio" name="room" value="deluxe" checked>
                            <div class="room-card">
                                <div class="img-w"><img src="./img/Zen Spa with Forest View.png" alt="Deluxe Suite"></div>
                                <div class="info-w">
                                    <h4>Deluxe Jacuzzi Suite</h4>
                                    <p>Experience true tranquility in our forest-view suite featuring a private outdoor jacuzzi and minimalist design.</p>
                                    <span class="price">KRW 350,000 / night</span>
                                </div>
                            </div>
                        </label>

                        <label class="room-item">
                            <input type="radio" name="room" value="poolvilla">
                            <div class="room-card">
                                <div class="img-w"><img src="./img/Villa View without Plant.png" alt="Infinity Villa"></div>
                                <div class="info-w">
                                    <h4>Infinity Pool Villa</h4>
                                    <p>A seamless blend of luxury and nature. Enjoy your own 사계절(year-round) heated pool with a breathtaking ocean view.</p>
                                    <span class="price">KRW 580,000 / night</span>
                                </div>
                            </div>
                        </label>
                    </div>
                </section>
            </div>

            <aside class="res-sidebar">
                <div class="summary-card">
                    <h4>STAY SUMMARY</h4>
                    <ul class="sum-list">
                        <li><span>Room</span> <strong id="sum-room">Deluxe Jacuzzi Suite</strong></li>
                        <li><span>Check-in / Out</span> <strong id="sum-date">Select dates</strong></li>
                        <li><span>Guests</span> <strong id="sum-guests">2 Persons</strong></li>
                    </ul>
                    <div class="total-w">
                        <span>Estimated Total</span>
                        <strong id="sum-price">₩ 0</strong>
                    </div>
                    <button type="submit" class="btn-reserve">COMPLETE BOOKING</button>
                </div>
            </aside>
        </form>
    </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const roomData = {
            deluxe: { name: 'Deluxe Jacuzzi Suite', price: 350000 },
            poolvilla: { name: 'Infinity Pool Villa', price: 580000 }
        };

        const fp = flatpickr("#dateRange", {
            mode: "range",
            minDate: "today",
            dateFormat: "Y-m-d",
            onClose: (selectedDates, dateStr) => {
                if (selectedDates.length === 2) {
                    document.getElementById('sum-date').textContent = dateStr.replace(" to ", " — ");
                    const nights = Math.ceil((selectedDates[1] - selectedDates[0]) / (1000 * 60 * 60 * 24));
                    calculateTotal(nights);
                }
            }
        });

        function calculateTotal(nights = 0) {
            const selectedType = document.querySelector('input[name="room"]:checked').value;
            const total = nights * roomData[selectedType].price;
            document.getElementById('sum-price').textContent = `₩ ${total.toLocaleString()}`;
        }

        // Event Listeners
        document.querySelectorAll('input[name="room"]').forEach(input => {
            input.addEventListener('change', (e) => {
                document.getElementById('sum-room').textContent = roomData[e.target.value].name;
                if(fp.selectedDates.length === 2) {
                    const nights = Math.ceil((fp.selectedDates[1] - fp.selectedDates[0]) / (1000 * 60 * 60 * 24));
                    calculateTotal(nights);
                }
            });
        });

        document.getElementById('guests').addEventListener('change', (e) => {
            document.getElementById('sum-guests').textContent = `${e.target.value} Persons`;
        });
    });
</script>

</body>
</html>